import numpy as np

def lu(A):
    
    """
    A is non-singular m x m
    """
    U = A.copy().astype(float)
    
    # Number of Rows
    m = U.shape[0]
    
    # Identity Matrix of Size m
    L = np.identity(m).astype(float)

    for j in range(m-1):
        for k in range(j, m-1):
            factor = (U.item(k+1, j))/(U.item(j, j))
            L[k+1, j] = factor
            U[k+1] = -factor*U[j] + U[k+1]
    return L, U
